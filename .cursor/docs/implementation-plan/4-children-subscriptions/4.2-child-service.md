# 4.2 –°–æ–∑–¥–∞–Ω–∏–µ ChildService

**‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1.5 —á–∞—Å–∞

## üéØ –¶–µ–ª—å

–†–∞—Å—à–∏—Ä–∏—Ç—å ChildService –¥–ª—è –ø–æ–ª–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å API –¥–µ—Ç–µ–π.

## üìã –®–∞–≥–∏

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ChildService

**–§–∞–π–ª:** `src/services/childService.ts`

```typescript
import { apiClient } from "./api";
import { ChildCreateRequest } from "../types/requests";
import { Child } from "../types/api";

export class ChildService {
  async createChild(data: ChildCreateRequest): Promise<Child> {
    return apiClient.post("/users/children", data);
  }

  async getChildren(parentId: number): Promise<Child[]> {
    return apiClient.get(`/users/${parentId}/children`);
  }

  async updateChild(childId: string, data: Partial<Child>): Promise<Child> {
    return apiClient.put(`/children/${childId}`, data);
  }

  async deleteChild(childId: string): Promise<void> {
    return apiClient.delete(`/children/${childId}`);
  }

  async getChildById(childId: string): Promise<Child> {
    return apiClient.get(`/children/${childId}`);
  }
}

export const childService = new ChildService();
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ SubscriptionService

**–§–∞–π–ª:** `src/services/subscriptionService.ts`

```typescript
import { apiClient } from "./api";
import { SubscriptionCreateRequest } from "../types/requests";
import { Subscription } from "../types/api";

export class SubscriptionService {
  async createSubscription(
    data: SubscriptionCreateRequest
  ): Promise<Subscription> {
    return apiClient.post("/subscriptions", data);
  }

  async getSubscriptions(userId: number): Promise<Subscription[]> {
    return apiClient.get(`/subscriptions/user/${userId}`);
  }

  async getSubscriptionsByChild(childId: string): Promise<Subscription[]> {
    return apiClient.get(`/subscriptions/child/${childId}`);
  }

  async updateSubscription(
    id: string,
    data: Partial<Subscription>
  ): Promise<Subscription> {
    return apiClient.put(`/subscriptions/${id}`, data);
  }

  async cancelSubscription(id: string): Promise<void> {
    return apiClient.delete(`/subscriptions/${id}`);
  }
}

export const subscriptionService = new SubscriptionService();
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

**–§–∞–π–ª:** `src/services/index.ts`

```typescript
// –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç—ã:
export {
  subscriptionService,
  SubscriptionService,
} from "./subscriptionService";
export type { Subscription, DeliveryInfo } from "../types/api";
export type { SubscriptionCreateRequest } from "../types/requests";
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- [ ] ChildService –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- [ ] SubscriptionService —Å–æ–∑–¥–∞–Ω
- [ ] –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] –¢–∏–ø–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —à–∞–≥–∏

- **–ü—Ä–µ–¥—ã–¥—É—â–∏–π:** [4.1 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∏–ø–æ–≤](./4.1-api-types.md)
- **–°–ª–µ–¥—É—é—â–∏–π:** [4.3 –°–æ–∑–¥–∞–Ω–∏–µ —Ö—É–∫–æ–≤ –¥–ª—è –¥–µ—Ç–µ–π](./4.3-children-hooks.md)
