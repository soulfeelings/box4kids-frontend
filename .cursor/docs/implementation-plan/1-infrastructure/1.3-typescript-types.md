# 1.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TypeScript —Ç–∏–ø–æ–≤

**‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1 —á–∞—Å

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –¥–∞–Ω–Ω—ã–º–∏.

## üìã –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö API —Ç–∏–ø–æ–≤

**–§–∞–π–ª:** `src/types/api.ts`

```typescript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
export interface User {
  id: number;
  phone_number: string;
  name?: string;
  role: "parent" | "admin";
  created_at: string;
}

// –†–µ–±–µ–Ω–æ–∫
export interface Child {
  id: string;
  name: string;
  age: number;
  gender: "male" | "female";
  interests: string[];
  skills: string[];
  limitations: "none" | "has_limitations";
  comment?: string;
  subscription?: "base" | "premium";
  parent_id: number;
}

// –ü–æ–¥–ø–∏—Å–∫–∞
export interface Subscription {
  id: string;
  child_id: string;
  plan: "base" | "premium";
  status: "active" | "inactive" | "pending";
  created_at: string;
  delivery_info?: DeliveryInfo;
}

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ
export interface DeliveryInfo {
  address: string;
  city: string;
  postal_code: string;
  delivery_date: string;
  special_instructions?: string;
}
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤

**–§–∞–π–ª:** `src/types/requests.ts`

```typescript
// –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
export interface SendOtpRequest {
  phone_number: string;
}

export interface VerifyOtpRequest {
  phone_number: string;
  code: string;
}

// –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞
export interface ChildCreateRequest {
  name: string;
  age: number;
  gender: "male" | "female";
  interests: string[];
  skills: string[];
  limitations: "none" | "has_limitations";
  comment?: string;
  parent_id: number;
}

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
export interface SubscriptionCreateRequest {
  child_id: string;
  plan: "base" | "premium";
  delivery_info: DeliveryInfo;
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
export interface ProfileUpdateRequest {
  name: string;
}
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–ª—è –æ—à–∏–±–æ–∫

**–§–∞–π–ª:** `src/types/errors.ts`

```typescript
// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –æ—à–∏–±–∫–∏ API
export class ApiError extends Error {
  constructor(message: string, public status: number, public data?: any) {
    super(message);
    this.name = "ApiError";
  }
}

// –¢–∏–ø—ã –æ—à–∏–±–æ–∫
export interface ValidationError {
  field: string;
  message: string;
}

export interface ApiErrorResponse {
  detail: string;
  status_code: number;
  validation_errors?: ValidationError[];
}
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ store —Ç–∏–ø–æ–≤

**–§–∞–π–ª:** `src/types/store.ts`

```typescript
import { User, Child } from "./api";

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
export interface AuthState {
  user: User | null;
  isAuthenticated: boolean;
  setUser: (user: User | null) => void;
  logout: () => void;
}

// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
export interface RegistrationState {
  currentStep: number;
  phone: string;
  code: string;
  name: string;
  childDraft: Partial<Child> | null;
  deliveryDraft: Partial<DeliveryInfo> | null;
  setStep: (step: number) => void;
  setPhone: (phone: string) => void;
  setCode: (code: string) => void;
  setName: (name: string) => void;
  saveChildDraft: (data: Partial<Child>) => void;
  saveDeliveryDraft: (data: Partial<DeliveryInfo>) => void;
  reset: () => void;
}

// –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
export interface AppState extends AuthState, RegistrationState {}
```

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] –§–∞–π–ª `api.ts` —Å–æ–∑–¥–∞–Ω —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
- [ ] –§–∞–π–ª `requests.ts` —Å–æ–∑–¥–∞–Ω —Å —Ç–∏–ø–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –§–∞–π–ª `errors.ts` —Å–æ–∑–¥–∞–Ω —Å —Ç–∏–ø–∞–º–∏ –æ—à–∏–±–æ–∫
- [ ] –§–∞–π–ª `store.ts` —Å–æ–∑–¥–∞–Ω —Å —Ç–∏–ø–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [ ] TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í—Å–µ —Ç–∏–ø—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `interface` –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `type` –¥–ª—è union —Ç–∏–ø–æ–≤ –∏ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
- –î–æ–±–∞–≤–ª—è–π—Ç–µ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —à–∞–≥–∏

- **–ü—Ä–µ–¥—ã–¥—É—â–∏–π:** [1.2 –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫](./1.2-folder-structure.md)
- **–°–ª–µ–¥—É—é—â–∏–π:** [1.4 –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª–∏–µ–Ω—Ç–∞](./1.4-api-client.md)
