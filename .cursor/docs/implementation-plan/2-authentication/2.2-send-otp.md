# 2.2 –ó–∞–º–µ–Ω–∞ handleSendCode

**‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1 —á–∞—Å

## üéØ –¶–µ–ª—å

–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–∫–æ–≤—ã–π handleSendCode –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API –≤—ã–∑–æ–≤.

## üìã –®–∞–≥–∏

### 1. –ò–º–ø–æ—Ä—Ç —Ö—É–∫–∞ –≤ LoginPage.tsx

```typescript
import { useAuthFlow } from "../hooks/api/useAuthFlow";
```

### 2. –ó–∞–º–µ–Ω–∞ handleSendCode

```typescript
const { sendOtp, isSendingOtp, sendOtpError } = useAuthFlow();

const handleSendCode = async () => {
  if (phone.length < 7) {
    setError("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞");
    return;
  }

  const result = await sendOtp(phone);

  if (result.success) {
    setStep(Step.Code);
    setError("");
  } else {
    setError(result.error?.message || "–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞");
  }
};
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏

```typescript
<button
  onClick={handleSendCode}
  disabled={phone.length < 7 || isSendingOtp}
  className="btn-primary"
>
  {isSendingOtp ? "–û—Ç–ø—Ä–∞–≤–∫–∞..." : "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥"}
</button>
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- [ ] –†–µ–∞–ª—å–Ω—ã–π API –≤—ã–∑–æ–≤ –≤–º–µ—Å—Ç–æ –º–æ–∫–∞
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —à–∞–≥–∏

- **–ü—Ä–µ–¥—ã–¥—É—â–∏–π:** [2.1 –°–æ–∑–¥–∞–Ω–∏–µ React Query —Ö—É–∫–æ–≤](./2.1-query-hooks.md)
- **–°–ª–µ–¥—É—é—â–∏–π:** [2.3 –ó–∞–º–µ–Ω–∞ handleCheckCode](./2.3-verify-otp.md)
