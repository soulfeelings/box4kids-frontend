# 3.2 –ó–∞–º–µ–Ω–∞ handleRegister

**‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1.5 —á–∞—Å–∞

## üéØ –¶–µ–ª—å

–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–∫–æ–≤—ã–π handleRegister –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API –≤—ã–∑–æ–≤.

## üìã –®–∞–≥–∏

### 1. –ò–º–ø–æ—Ä—Ç –≤ LoginPage

```typescript
import { useProfile } from "../hooks/api/useProfile";
import { useCurrentUser } from "../hooks/api/useCurrentUser";
```

### 2. –ó–∞–º–µ–Ω–∞ handleRegister

```typescript
const { updateProfile, isUpdating } = useProfile();
const { user } = useCurrentUser();

const handleRegister = async () => {
  if (!name.trim()) {
    setError("–í–≤–µ–¥–∏—Ç–µ –∏–º—è");
    return;
  }

  if (!user) {
    setError("–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏");
    return;
  }

  try {
    await updateProfile({
      userId: user.id,
      data: { name: name.trim() },
    });

    setStep(Step.Child);
    setError("");
  } catch (error: any) {
    setError(error.message || "–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏");
  }
};
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏

```typescript
<LoadingButton
  onClick={handleRegister}
  isLoading={isUpdating}
  disabled={!name.trim()}
>
  –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
</LoadingButton>
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- [ ] –†–µ–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —á–µ—Ä–µ–∑ API
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –∫—ç—à–µ
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —à–∞–≥–∏

- **–ü—Ä–µ–¥—ã–¥—É—â–∏–π:** [3.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ö—É–∫–∞ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è](./3.1-profile-hooks.md)
- **–°–ª–µ–¥—É—é—â–∏–π:** [3.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Zustand store](./3.3-zustand-integration.md)
