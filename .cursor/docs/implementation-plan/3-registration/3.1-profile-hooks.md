# 3.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ö—É–∫–∞ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è

**‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1 —á–∞—Å

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å —Ö—É–∫ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üìã –®–∞–≥–∏

### 1. –•—É–∫ useProfile

**–§–∞–π–ª:** `src/hooks/api/useProfile.ts`

```typescript
import { useMutation, useQueryClient } from "@tanstack/react-query";
import { userService } from "../../services/userService";
import { queryKeys } from "../../utils/queryKeys";
import { User } from "../../types/api";

export const useProfile = () => {
  const queryClient = useQueryClient();

  const updateProfileMutation = useMutation({
    mutationFn: ({
      userId,
      data,
    }: {
      userId: number;
      data: { name: string };
    }) => userService.updateProfile(userId, data),
    onSuccess: (updatedUser: User) => {
      queryClient.setQueryData(queryKeys.auth.user, updatedUser);
      localStorage.setItem("current_user", JSON.stringify(updatedUser));
    },
  });

  return {
    updateProfile: updateProfileMutation.mutateAsync,
    isUpdating: updateProfileMutation.isPending,
    error: updateProfileMutation.error,
    reset: updateProfileMutation.reset,
  };
};
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞

**–§–∞–π–ª:** `src/hooks/api/index.ts`

```typescript
export { useProfile } from "./useProfile";
// –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã...
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- [ ] –•—É–∫ useProfile —Å–æ–∑–¥–∞–Ω
- [ ] –ö—ç—à –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] localStorage —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è
- [ ] –¢–∏–ø–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —à–∞–≥–∏

- **–ü—Ä–µ–¥—ã–¥—É—â–∏–π:** [2.5 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](../2-authentication/2.5-testing.md)
- **–°–ª–µ–¥—É—é—â–∏–π:** [3.2 –ó–∞–º–µ–Ω–∞ handleRegister](./3.2-register-handler.md)
